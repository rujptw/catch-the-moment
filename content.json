{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"https://rujptw.github.io/catch-the-moment"},"pages":[{"title":"vueå“åº”å¼çš„ç®€å•å®ç°","date":"2018-10-17T09:49:39.000Z","updated":"2018-10-17T09:49:39.367Z","comments":true,"path":"vueå“åº”å¼çš„ç®€å•å®ç°/index.html","permalink":"https://rujptw.github.io/catch-the-moment/vueå“åº”å¼çš„ç®€å•å®ç°/index.html","excerpt":"","text":""},{"title":"test","date":"2018-10-12T08:27:55.000Z","updated":"2018-10-12T08:27:55.296Z","comments":true,"path":"test/index.html","permalink":"https://rujptw.github.io/catch-the-moment/test/index.html","excerpt":"","text":""},{"title":"æ€ä¹ˆä½¿ç”¨easymock","date":"2018-10-10T03:38:44.000Z","updated":"2018-10-10T05:52:54.603Z","comments":true,"path":"æ€ä¹ˆä½¿ç”¨easymock/index.html","permalink":"https://rujptw.github.io/catch-the-moment/æ€ä¹ˆä½¿ç”¨easymock/index.html","excerpt":"","text":""},{"title":"jsçš„å¼‚æ­¥","date":"2018-10-10T06:04:06.000Z","updated":"2018-10-10T06:06:52.589Z","comments":true,"path":"jsçš„å¼‚æ­¥/index.html","permalink":"https://rujptw.github.io/catch-the-moment/jsçš„å¼‚æ­¥/index.html","excerpt":"","text":""},{"title":"vueçš„ç”Ÿå‘½å‘¨æœŸ","date":"2018-10-10T11:01:40.000Z","updated":"2018-10-10T11:01:40.105Z","comments":true,"path":"vueçš„ç”Ÿå‘½å‘¨æœŸ/index.html","permalink":"https://rujptw.github.io/catch-the-moment/vueçš„ç”Ÿå‘½å‘¨æœŸ/index.html","excerpt":"","text":""}],"posts":[{"title":"vueå“åº”å¼çš„ç®€å•å®ç°","slug":"vueå“åº”å¼çš„ç®€å•å®ç°","date":"2018-10-17T09:49:30.000Z","updated":"2018-10-17T10:00:18.712Z","comments":true,"path":"2018/10/17/vueå“åº”å¼çš„ç®€å•å®ç°/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/17/vueå“åº”å¼çš„ç®€å•å®ç°/","excerpt":"","text":"å…³é”®ç‚¹ï¼šä½¿ç”¨Object.defineProperty() å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼å®ç° ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135&lt;div id=&quot;app&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;resource&quot; v-model=&quot;text&quot; /&gt; &#123;&#123;text&#125;&#125;&lt;/div&gt;&lt;script&gt; function Compile(node, vm) &#123; if (node) &#123; this.$frag = this.nodeToFragment(node, vm); return this.$frag; &#125; &#125; Compile.prototype = &#123; nodeToFragment: function (node, vm) &#123; var self = this; var frag = document.createDocumentFragment(); var child; while (child = node.firstChild) &#123; self.compileElement(child, vm); frag.append(child); // å°†æ‰€æœ‰å­èŠ‚ç‚¹æ·»åŠ åˆ°fragmentä¸­ &#125; return frag; &#125;, compileElement: function (node, vm) &#123; var reg = /\\&#123;\\&#123;(.*)\\&#125;\\&#125;/; //èŠ‚ç‚¹ç±»å‹ä¸ºå…ƒç´  if (node.nodeType === 1) &#123; var attr = node.attributes; // è§£æå±æ€§ for (var i = 0; i &lt; attr.length; i++) &#123; if (attr[i].nodeName == &apos;v-model&apos;) &#123; var name = attr[i].nodeValue; // è·å–v-modelç»‘å®šçš„å±æ€§å node.addEventListener(&apos;input&apos;, function (e) &#123; // ç»™ç›¸åº”çš„dataå±æ€§èµ‹å€¼ï¼Œè¿›è€Œè§¦å‘è¯¥å±æ€§çš„setæ–¹æ³• vm[name] = e.target.value; &#125;); // node.value = vm[name]; // å°†dataçš„å€¼èµ‹ç»™è¯¥node new Watcher(vm, node, name, &apos;value&apos;); &#125; &#125; &#125; //èŠ‚ç‚¹ç±»å‹ä¸ºtext if (node.nodeType === 3) &#123; if (reg.test(node.nodeValue)) &#123; var name = RegExp.$1; // è·å–åŒ¹é…åˆ°çš„å­—ç¬¦ä¸² name = name.trim(); // node.nodeValue = vm[name]; // å°†dataçš„å€¼èµ‹ç»™è¯¥node new Watcher(vm, node, name, &apos;nodeValue&apos;); &#125; &#125; &#125;, &#125; function Dep() &#123; this.subs = []; &#125; Dep.prototype = &#123; addSub: function (sub) &#123; this.subs.push(sub); &#125;, notify: function () &#123; this.subs.forEach(function (sub) &#123; sub.update(); &#125;); &#125; &#125; function Watcher(vm, node, name, type) &#123; Dep.target = this ; this.name = name; this.node = node; this.vm = vm; this.type = type; this.update(); Dep.target = null; &#125; Watcher.prototype = &#123; update: function () &#123; this.get(); this.node[this.type] = this.value; // è®¢é˜…è€…æ‰§è¡Œç›¸åº”æ“ä½œ &#125;, // è·å–dataçš„å±æ€§å€¼ get: function () &#123; this.value = this.vm[this.name]; //è§¦å‘ç›¸åº”å±æ€§çš„get &#125; &#125; function defineReactive(obj, key, val) &#123; var dep = new Dep(); Object.defineProperty(obj, key, &#123; get: function () &#123; //æ·»åŠ è®¢é˜…è€…watcheråˆ°ä¸»é¢˜å¯¹è±¡Dep if (Dep.target) &#123; // JSçš„æµè§ˆå™¨å•çº¿ç¨‹ç‰¹æ€§ï¼Œä¿è¯è¿™ä¸ªå…¨å±€å˜é‡åœ¨åŒä¸€æ—¶é—´å†…ï¼Œåªä¼šæœ‰åŒä¸€ä¸ªç›‘å¬å™¨ä½¿ç”¨ dep.addSub(Dep.target); &#125; return val; &#125;, set: function (newVal) &#123; if (newVal === val) return; val = newVal; console.log(val); // ä½œä¸ºå‘å¸ƒè€…å‘å‡ºé€šçŸ¥ dep.notify(); &#125; &#125;); &#125; function observe(obj, vm) &#123; Object.keys(obj).forEach(function (key) &#123; defineReactive(vm, key, obj[key]); &#125;); &#125; function Vue(options) &#123; this.data = options.data; var data = this.data; observe(data, this); var id = options.el; var dom = new Compile(document.getElementById(id), this); // ç¼–è¯‘å®Œæˆåï¼Œå°†domè¿”å›åˆ°appä¸­ document.getElementById(id).appendChild(dom); &#125; var vm = new Vue(&#123; el: &apos;app&apos;, data: &#123; text: &apos;hello world&apos; &#125; &#125;); å› ä¸ºä½¿ç”¨åˆ°äº†å‘å¸ƒè®¢é˜…æ¨¡å¼,å­¦ä¹ äº†ä¸€ä¸‹ï¼Œå†™äº†ä¸ªä¾‹å­ ä»£ç å¦‚ä¸‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354//é€šç”¨å‘å¸ƒè®¢é˜…let sendsubscribe = &#123; list:[], listen:function(key,fn)&#123; if(!this.list[key])&#123; this.list[key] = []; &#125; this.list[key].push(fn) &#125;, trigger:function()&#123; let key = Array.prototype.shift.call(arguments);//è·å–çœŸæ­£æƒ³è¦çš„ä¸‹æ ‡ let fns = this.list[key]; if(!fns || fns.length === 0)&#123; return; &#125;else&#123; for(let i = 0,fn; fn=fns[i++];)&#123; fn.apply(this,arguments) &#125; &#125; &#125;, remove:function(key,fn)&#123; let fns = this.list[key]; if(!fns)&#123; return false; &#125; if(!fn)&#123; fn&amp;&amp; (fns.length = 0) &#125;else&#123; for(let i = fns.length - 1;i&gt;=0;i--)&#123; let _fn = fns[i]; if(_fn===fn)&#123; fns.splice(i,1) &#125; &#125; &#125; &#125;&#125;//å®šä¹‰å‡½æ•°ï¼Œè®©æ¯ä¸€ä¸ªå¯¹è±¡éƒ½å…·æœ‰å‘å¸ƒè®¢é˜…çš„èƒ½åŠ›let initEvent = function(obj)&#123; for(let i in sendsubscribe)&#123; obj[i] = sendsubscribe[i] &#125;&#125;let house = &#123;&#125;;initEvent(house)house.listen(&quot;high-level&quot;,fn1 = function(size,position)&#123; console.log(&quot;é¢ç§¯&quot;,`$&#123;size&#125;,ä½ç½® $&#123;position&#125;`);&#125;)house.listen(&quot;price&quot;,fn2 = function(origin,discount)&#123; console.log(&quot;ä»·æ ¼&quot;,`$&#123;origin&#125;,æŠ˜æ‰£,$&#123;discount&#125;`);&#125;)house.remove(&quot;price&quot;,fn2)house.trigger(&quot;price&quot;,&quot;132ä¸‡&quot;,&quot;80%&quot;)house.trigger(&quot;high-level&quot;,&quot;132å¹³&quot;,&quot;é¡¶å±‚&quot;)","categories":[],"tags":[]},{"title":"test","slug":"test","date":"2018-10-12T08:27:45.000Z","updated":"2018-10-12T08:27:45.749Z","comments":true,"path":"2018/10/12/test/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/12/test/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"","slug":"vueçš„ç”Ÿå‘½å‘¨æœŸ","date":"2018-10-10T11:00:28.011Z","updated":"2018-10-12T08:21:37.088Z","comments":true,"path":"2018/10/10/vueçš„ç”Ÿå‘½å‘¨æœŸ/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/10/vueçš„ç”Ÿå‘½å‘¨æœŸ/","excerpt":"","text":"title: vueçš„ç”Ÿå‘½å‘¨æœŸdate: 2018-10-12 16:17:27tags: ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾ å„ä¸ªé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° beforeCreate:è¿è¡Œæ­¤å‡½æ•°æ—¶,vueå®ä¾‹å¤„äºåˆå§‹é˜¶æ®µ el,data,methodsæ–¹æ³•éƒ½ä¸ºundefined,å³æ‹¿ä¸åˆ° å¯åšloading created:è¿è¡Œæ­¤å‡½æ•°æ—¶: elä¸ºundefined,data,methodsæ–¹æ³•éƒ½å¯ä»¥æ‹¿åˆ° å¯ä»¥åˆå§‹åŒ–ä¸€äº›æ•°æ® beforeMount:è¿è¡Œæ­¤å‡½æ•°æ—¶: elä¸ºundefined,data,methodsæ–¹æ³•éƒ½å¯ä»¥æ‹¿åˆ° mounted:è¿è¡Œæ­¤å‡½æ•°æ—¶: el,data,methodsæ–¹æ³•éƒ½å¯ä»¥æ‹¿åˆ°,æ‹¿åˆ°çš„Vnodeä¸ºè™šæ‹Ÿdom(å¾…è€ƒè¯) å¤æ‚åœºæ™¯ä¸‹ï¼Œå¿…é¡»ä½¿ç”¨ nextTickæ‰èƒ½è·å–çœŸå®çš„dom å‘èµ·è¯·æ±‚ï¼Œé¿å…è·å–æ•°æ®ä¸ºç©º beforeUpdate:è¿è¡Œæ­¤å‡½æ•°æ—¶: el,data,methodsæ–¹æ³•éƒ½å¯ä»¥æ‹¿åˆ°,ä½†dataé‡Œçš„æ•°æ®å·²ç»å‘ç”Ÿå˜åŒ–,ä½†domè¿˜æ²¡æœ‰è¢«é‡æ–°æ¸²æŸ“ æ­¤æ—¶å¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ›´æ”¹ updated:è¿è¡Œæ­¤å‡½æ•°æ—¶: el,data,methodsæ–¹æ³•éƒ½å¯ä»¥æ‹¿åˆ°,dataé‡Œçš„æ•°æ®ä¸ºå‰ä¸€ä¸ªé’©å­æ—¶çš„æ•°æ®,æ­¤æ—¶domå·²ç»é‡æ–°æ¸²æŸ“ beforeDestory:è¿è¡Œæ­¤å‡½æ•°æ—¶: el,data,methodsæ–¹æ³•éƒ½å¯ä»¥æ‹¿åˆ° destoryed:è¿è¡Œæ­¤å‡½æ•°æ—¶: elå·²ç»è¢«é”€æ¯,data,methodsæ–¹æ³•éƒ½å¯ä»¥æ‹¿åˆ°,Vueå®ä¾‹è¢«é”€æ¯,vueå®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ æµç¨‹å›¾ï¼š åªåœ¨keep-aliveç»„ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆçš„é’©å­ ä¸ºä»€ä¹ˆè¦ç”¨:vueæ¯ä¸€æ¬¡åˆ‡æ¢è·¯ç”±æ—¶éƒ½ä¼šé‡æ–°åˆ›å»ºç»„ä»¶,ä½†æ˜¯æœ‰æ—¶å€™ä½ æƒ³ä¿ç•™ä¸Šæ¬¡æµè§ˆçš„çŠ¶æ€æˆ–è€…æé«˜æ€§èƒ½é¿å…é‡æ–°æ¸²æŸ“éƒ½å¯ä»¥ç”¨åˆ°. æ€ä¹ˆç”¨ 123&lt;keep-alive&gt; &lt;component&gt;&lt;/component&gt;&lt;/keep-alive&gt; keep-aliveä¸Šçš„å±æ€§includeå’Œexclude include,ä¼šç¼“å­˜åŒ¹é…åˆ°çš„ç»„ä»¶,ä¾‹å¦‚ include=another,anotherç»„ä»¶å°±ä¼šè¢«ç¼“å­˜åˆ°å†…å­˜ä¸­å»ï¼Œä¸‹æ¬¡åˆ‡æ¢åˆ°è¯¥ç»„ä»¶å°±èƒ½é¿å…å†æ¬¡æ¸²æŸ“ exclude,ä¸ä¼šç¼“å­˜æ¯”é…åˆ°çš„ç»„ä»¶,è¯¥ç»„ä»¶ä¼šç»å†å†æ¬¡è¢«æ¸²æŸ“çš„è¿‡ç¨‹ actived:è¿è¡Œæ­¤å‡½æ•°æ—¶: é¦–æ¬¡è¿›å…¥ç»„ä»¶çš„è¯¥é’©å­è§¦å‘é¡ºåºåœ¨mountedä¹‹å,ä¹‹åå†æ¬¡è¿›å…¥å°±åªä¼šè§¦å‘actived æƒ³è¦é‡æ–°æ¸²æŸ“ç»„ä»¶å¯åœ¨è¯¥é’©å­ä¸Šå‘èµ·è¯·æ±‚,æ­¤æ—¶mountedå·²ç»ä¸ä¼šè§¦å‘,æ•°æ®æ›´æ–°ä¼šè§¦å‘ beforeUpdateå’Œupdatedé’©å­ deactived:è¿è¡Œæ­¤å‡½æ•°æ—¶ï¼š ç»„ä»¶è¢«ç¼“å­˜å,ç¦»å¼€ç»„ä»¶åä¼šè§¦å‘,æ­¤åé™¤äº†deactivedå’Œactivedä¼šè¢«è§¦å‘ï¼Œå…¶ä»–é’©å­ä¼šå¤„äºç¦ç”¨çš„çŠ¶æ€ åè®°:å¾—çœ‹æºç äº†ï¼Œä¸è¿‡è§‰å¾—æŒºæœ‰æ„æ€çš„","categories":[],"tags":[]},{"title":"jsçš„å¼‚æ­¥","slug":"jsçš„å¼‚æ­¥","date":"2018-10-10T06:04:15.000Z","updated":"2018-10-10T06:07:44.392Z","comments":true,"path":"2018/10/10/jsçš„å¼‚æ­¥/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/10/jsçš„å¼‚æ­¥/","excerpt":"","text":"JSæ˜¯å•çº¿ç¨‹çš„ æ„ä¹‰ï¼šä»»åŠ¡æ˜¯ä¸²è¡Œçš„ï¼Œåªèƒ½ä¸€æ­¥ä¸€æ­¥åœ°å»åšã€‚ ç¼ºç‚¹ï¼šå¯èƒ½ä¼šé€ æˆé•¿æ—¶é—´çš„ç­‰å¾… æ€ä¹ˆè§£å†³:å¼‚æ­¥ï¼Œèƒ½å¤ŸåŒæ—¶åšå¤šé¡¹ä»»åŠ¡,æé«˜äº†æ•ˆç‡ï¼Œè™½ç„¶JSæ˜¯å•çº¿ç¨‹çš„ã€‚ æµç¨‹ï¼šé€šè¿‡å°†ä»»åŠ¡äº¤ç»™ç›¸åº”çš„å¼‚æ­¥æ¨¡å—å»å¤„ç†ï¼Œä¸»çº¿ç¨‹çš„æ•ˆç‡å¤§å¤§æå‡ï¼Œå¯ä»¥å¹¶è¡Œçš„å»å¤„ç†å…¶ä»–çš„æ“ä½œã€‚å½“å¼‚æ­¥å¤„ç†å®Œæˆï¼Œä¸»çº¿ç¨‹ç©ºé—²æ—¶ï¼Œä¸»çº¿ç¨‹è¯»å–ç›¸åº”çš„callbackï¼Œè¿›è¡Œåç»­çš„æ“ä½œï¼Œæœ€å¤§ç¨‹åº¦çš„åˆ©ç”¨CPUã€‚ æµç¨‹å›¾ï¼š è¯´æ˜ï¼š å¦‚ä¸Šå›¾ä¸ºäº‹ä»¶å¾ªç¯ç¤ºä¾‹å›¾ï¼ˆæˆ–JSè¿è¡Œæœºåˆ¶å›¾ï¼‰ï¼Œæµç¨‹å¦‚ä¸‹ step1: ä¸»çº¿ç¨‹è¯»å–JSä»£ç ï¼Œæ­¤æ—¶ä¸ºåŒæ­¥ç¯å¢ƒï¼Œå½¢æˆç›¸åº”çš„å †å’Œæ‰§è¡Œæ ˆï¼› step2: ä¸»çº¿ç¨‹é‡åˆ°å¼‚æ­¥ä»»åŠ¡ï¼ŒæŒ‡ç»™å¯¹åº”çš„å¼‚æ­¥è¿›ç¨‹è¿›è¡Œå¤„ç†ï¼ˆWEB APIï¼‰; step3: å¼‚æ­¥è¿›ç¨‹å¤„ç†å®Œæ¯•ï¼ˆAjaxè¿”å›ã€DOMäº‹ä»¶å¤„ç½šã€Timeråˆ°ç­‰ï¼‰ï¼Œå°†ç›¸åº”çš„å¼‚æ­¥ä»»åŠ¡æ¨å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼› step4: ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥è¯¢ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœå­˜åœ¨ä»»åŠ¡ï¼Œåˆ™å–å‡ºä¸€ä¸ªä»»åŠ¡æ¨å…¥ä¸»çº¿ç¨‹å¤„ç†ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼› step5: é‡å¤æ‰§è¡Œstep2ã€3ã€4ï¼›ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚ æ‰§è¡Œçš„å¤§æ„ï¼šåŒæ­¥ç¯å¢ƒæ‰§è¡Œ(step1) -&gt; äº‹ä»¶å¾ªç¯1(step4) -&gt; äº‹ä»¶å¾ªç¯2(step4çš„é‡å¤)â€¦ å…¶ä¸­çš„å¼‚æ­¥è¿›ç¨‹æœ‰ï¼š aã€ç±»ä¼¼onclickç­‰ï¼Œç”±æµè§ˆå™¨å†…æ ¸çš„DOM bindingæ¨¡å—å¤„ç†ï¼Œäº‹ä»¶è§¦å‘æ—¶ï¼Œå›è°ƒå‡½æ•°æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼› bã€setTimeoutç­‰ï¼Œç”±æµè§ˆå™¨å†…æ ¸çš„Timeræ¨¡å—å¤„ç†ï¼Œæ—¶é—´åˆ°è¾¾æ—¶ï¼Œå›è°ƒå‡½æ•°æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼› cã€Ajaxï¼Œç”±æµè§ˆå™¨å†…æ ¸çš„Networkæ¨¡å—å¤„ç†ï¼Œç½‘ç»œè¯·æ±‚è¿”å›åï¼Œæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ ä»»åŠ¡é˜Ÿåˆ—ï¼š åˆ†ç±»: 1. microtask queue 2. macrotask queue ä¸Šé¢çš„a,bï¼Œcå‡å±äºmacrotask queueï¼Œå®ƒçš„api: setTimeout, setInterval, setImmediate, I/O, UI rendering microtask queue çš„api:process.nextTick, Promise, MutationObserver macrotaskä»»åŠ¡ä¼šä¼˜å…ˆäºmicrotaskæ‰§è¡Œ,ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸º macrotasks å’Œ microtasks, è€Œpromiseä¸­çš„thenæ–¹æ³•çš„å‡½æ•°ä¼šè¢«æ¨å…¥åˆ°microtasksé˜Ÿåˆ—ä¸­ï¼Œè€ŒsetTimeoutå‡½æ•°ä¼šè¢«æ¨å…¥åˆ°macrotasksä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåœ¨æ¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œmacrotaskåªä¼šæå–ä¸€ä¸ªæ‰§è¡Œï¼Œè€Œmicrotaskä¼šä¸€ç›´æå–ï¼Œç›´åˆ°microsofté˜Ÿåˆ—ä¸ºç©ºä¸ºæ­¢ã€‚ ä»£ç ä¸ºè¯ 1234567891011121314151617console.log(&apos;1, time = &apos; + new Date().toString()) setTimeout(macroCallback, 0); new Promise(function(resolve, reject) &#123; console.log(&apos;2, time = &apos; + new Date().toString()) resolve(); console.log(&apos;3, time = &apos; + new Date().toString()) &#125;).then(microCallback); function macroCallback() &#123; console.log(&apos;4, time = &apos; + new Date().toString()) &#125; function microCallback() &#123; console.log(&apos;5, time = &apos; + new Date().toString()) &#125;ä¾æ¬¡æ‰“å°ä¸º:1,2,3,5,4 æ›´å®Œæ•´çš„äº‹ä»¶å¾ªç¯æµç¨‹ å°†microtaskåŠ å…¥åˆ°JSè¿è¡Œæœºåˆ¶æµç¨‹ä¸­ï¼Œåˆ™ï¼š step1ã€2ã€3åŒä¸Šï¼Œ step4ï¼šä¸»çº¿ç¨‹æŸ¥è¯¢ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œmicrotask queueï¼Œå°†å…¶æŒ‰åºæ‰§è¡Œï¼Œå…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼› step5ï¼šä¸»çº¿ç¨‹æŸ¥è¯¢ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œmacrotask queueï¼Œå–é˜Ÿé¦–ä»»åŠ¡æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•ï¼› step6ï¼šé‡å¤step4ã€step5ã€‚ microtask queueä¸­çš„æ‰€æœ‰callbackå¤„åœ¨åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­ï¼Œè€Œmacrotask queueä¸­çš„callbackæœ‰è‡ªå·±çš„äº‹ä»¶å¾ªç¯ã€‚ ç®€è€Œè¨€ä¹‹ï¼šåŒæ­¥ç¯å¢ƒæ‰§è¡Œ -&gt; äº‹ä»¶å¾ªç¯1ï¼ˆmicrotask queueçš„Allï¼‰-&gt; äº‹ä»¶å¾ªç¯2(macrotask queueä¸­çš„ä¸€ä¸ª) -&gt; äº‹ä»¶å¾ªç¯1ï¼ˆmicrotask queueçš„Allï¼‰-&gt; äº‹ä»¶å¾ªç¯2(macrotask queueä¸­çš„ä¸€ä¸ª)â€¦ åˆ©ç”¨microtask queueå¯ä»¥å½¢æˆä¸€ä¸ªåŒæ­¥æ‰§è¡Œçš„ç¯å¢ƒï¼Œä½†å¦‚æœMicrotask queueå¤ªé•¿ï¼Œå°†å¯¼è‡´Macrotaskä»»åŠ¡é•¿æ—¶é—´æ‰§è¡Œä¸äº†ï¼Œæœ€ç»ˆå¯¼è‡´ç”¨æˆ·I/Oæ— å“åº”ç­‰ï¼Œæ‰€ä»¥ä½¿ç”¨éœ€æ…é‡ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨promiseï¼Œasync: æ ¹æ® HTML Standradï¼Œ åœ¨æ¯ä¸ªtaskè¿è¡Œå®Œä»¥åï¼ŒUIéƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œé‚£ä¹ˆåœ¨ microCallbackå®Œæˆæ•°æ®æ›´æ–°ï¼Œå› æ­¤å½“å‰taskç»“æŸå°±å¯ä»¥å¾—åˆ°æœ€æ–°çš„UIäº†ã€‚ å ä¹‹ï¼šå¦‚æœæ–°å»ºä¸€ä¸ªtask(ä¾‹å¦‚ajax)æ¥åšæ•°æ®æ›´æ–°çš„è¯ï¼Œé‚£ä¹ˆæ¸²æŸ“ä¼šæ‰§è¡Œä¸¤æ¬¡ã€‚ å‚è€ƒ: JS äº‹ä»¶å¾ªç¯æœºåˆ¶ - ä»»åŠ¡é˜Ÿåˆ—ã€web APIã€JSä¸»çº¿ç¨‹çš„ç›¸äº’ååŒ Vue ä¸­å¦‚ä½•ä½¿ç”¨ MutationObserver åšæ‰¹é‡å¤„ç†ï¼Ÿ javascriptä¸­çš„å¼‚æ­¥ macrotask å’Œ microtask ç®€ä»‹","categories":[],"tags":[]},{"title":"æ€ä¹ˆä½¿ç”¨easymock","slug":"æ€ä¹ˆä½¿ç”¨easymock","date":"2018-10-10T03:38:16.000Z","updated":"2018-10-10T06:00:50.525Z","comments":true,"path":"2018/10/10/æ€ä¹ˆä½¿ç”¨easymock/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/10/æ€ä¹ˆä½¿ç”¨easymock/","excerpt":"","text":"easy-mock(æ¨¡æ‹Ÿæ•°æ®å¥½ç”¨çš„å·¥å…·) æ³¨æ„éœ€è¦æ³¨å†Œæ‰èƒ½ä½¿ç”¨ easy-mock-cliä½¿ç”¨æ–‡æ¡£ ä¸ºä»€ä¹ˆè¦ç”¨:åªè¦åœ¨ç½‘ä¸Šé…ç½®å¥½è¿”å›çš„å‚æ•°ï¼ˆeasy-mockæ•™ç¨‹ï¼‰,å†åŠ ä¸Š.easymockrc.jsè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼ˆæ ¼å¼å¯ä»¥å¤šç§ï¼‰ï¼Œå®ƒå°±ä¼šå¸®ä½ è‡ªåŠ¨ç”Ÿæˆè¯·æ±‚æ–‡ä»¶ï¼Œåˆ°æ—¶å€™å°±åªéœ€è°ƒç”¨å¯¹åº”çš„å‡½æ•°å°±å¯ä»¥äº†. å¦‚ä½•ä½¿ç”¨: cnpm install -g easy-mock-cli åˆ›å»ºé…ç½®æ–‡ä»¶ æ‰§è¡Œ easymock init . å‘½ä»¤ Bingo,å®Œæˆäº†ğŸ˜„","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2018-10-10T03:33:48.567Z","updated":"2018-10-10T03:33:48.568Z","comments":true,"path":"2018/10/10/hello-world/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/10/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}