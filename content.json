{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"https://rujptw.github.io/catch-the-moment"},"pages":[{"title":"jsçš„å¼‚æ­¥","date":"2018-10-10T06:04:06.000Z","updated":"2018-10-10T06:06:52.589Z","comments":true,"path":"jsçš„å¼‚æ­¥/index.html","permalink":"https://rujptw.github.io/catch-the-moment/jsçš„å¼‚æ­¥/index.html","excerpt":"","text":""},{"title":"æ€ä¹ˆä½¿ç”¨easymock","date":"2018-10-10T03:38:44.000Z","updated":"2018-10-10T05:52:54.603Z","comments":true,"path":"æ€ä¹ˆä½¿ç”¨easymock/index.html","permalink":"https://rujptw.github.io/catch-the-moment/æ€ä¹ˆä½¿ç”¨easymock/index.html","excerpt":"","text":""}],"posts":[{"title":"jsçš„å¼‚æ­¥","slug":"jsçš„å¼‚æ­¥","date":"2018-10-10T06:04:15.000Z","updated":"2018-10-10T06:07:44.392Z","comments":true,"path":"2018/10/10/jsçš„å¼‚æ­¥/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/10/jsçš„å¼‚æ­¥/","excerpt":"","text":"JSæ˜¯å•çº¿ç¨‹çš„ æ„ä¹‰ï¼šä»»åŠ¡æ˜¯ä¸²è¡Œçš„ï¼Œåªèƒ½ä¸€æ­¥ä¸€æ­¥åœ°å»åšã€‚ ç¼ºç‚¹ï¼šå¯èƒ½ä¼šé€ æˆé•¿æ—¶é—´çš„ç­‰å¾… æ€ä¹ˆè§£å†³:å¼‚æ­¥ï¼Œèƒ½å¤ŸåŒæ—¶åšå¤šé¡¹ä»»åŠ¡,æé«˜äº†æ•ˆç‡ï¼Œè™½ç„¶JSæ˜¯å•çº¿ç¨‹çš„ã€‚ æµç¨‹ï¼šé€šè¿‡å°†ä»»åŠ¡äº¤ç»™ç›¸åº”çš„å¼‚æ­¥æ¨¡å—å»å¤„ç†ï¼Œä¸»çº¿ç¨‹çš„æ•ˆç‡å¤§å¤§æå‡ï¼Œå¯ä»¥å¹¶è¡Œçš„å»å¤„ç†å…¶ä»–çš„æ“ä½œã€‚å½“å¼‚æ­¥å¤„ç†å®Œæˆï¼Œä¸»çº¿ç¨‹ç©ºé—²æ—¶ï¼Œä¸»çº¿ç¨‹è¯»å–ç›¸åº”çš„callbackï¼Œè¿›è¡Œåç»­çš„æ“ä½œï¼Œæœ€å¤§ç¨‹åº¦çš„åˆ©ç”¨CPUã€‚ æµç¨‹å›¾ï¼š è¯´æ˜ï¼š å¦‚ä¸Šå›¾ä¸ºäº‹ä»¶å¾ªç¯ç¤ºä¾‹å›¾ï¼ˆæˆ–JSè¿è¡Œæœºåˆ¶å›¾ï¼‰ï¼Œæµç¨‹å¦‚ä¸‹ step1: ä¸»çº¿ç¨‹è¯»å–JSä»£ç ï¼Œæ­¤æ—¶ä¸ºåŒæ­¥ç¯å¢ƒï¼Œå½¢æˆç›¸åº”çš„å †å’Œæ‰§è¡Œæ ˆï¼› step2: ä¸»çº¿ç¨‹é‡åˆ°å¼‚æ­¥ä»»åŠ¡ï¼ŒæŒ‡ç»™å¯¹åº”çš„å¼‚æ­¥è¿›ç¨‹è¿›è¡Œå¤„ç†ï¼ˆWEB APIï¼‰; step3: å¼‚æ­¥è¿›ç¨‹å¤„ç†å®Œæ¯•ï¼ˆAjaxè¿”å›ã€DOMäº‹ä»¶å¤„ç½šã€Timeråˆ°ç­‰ï¼‰ï¼Œå°†ç›¸åº”çš„å¼‚æ­¥ä»»åŠ¡æ¨å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼› step4: ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼ŒæŸ¥è¯¢ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚æœå­˜åœ¨ä»»åŠ¡ï¼Œåˆ™å–å‡ºä¸€ä¸ªä»»åŠ¡æ¨å…¥ä¸»çº¿ç¨‹å¤„ç†ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼› step5: é‡å¤æ‰§è¡Œstep2ã€3ã€4ï¼›ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚ æ‰§è¡Œçš„å¤§æ„ï¼šåŒæ­¥ç¯å¢ƒæ‰§è¡Œ(step1) -&gt; äº‹ä»¶å¾ªç¯1(step4) -&gt; äº‹ä»¶å¾ªç¯2(step4çš„é‡å¤)â€¦ å…¶ä¸­çš„å¼‚æ­¥è¿›ç¨‹æœ‰ï¼š aã€ç±»ä¼¼onclickç­‰ï¼Œç”±æµè§ˆå™¨å†…æ ¸çš„DOM bindingæ¨¡å—å¤„ç†ï¼Œäº‹ä»¶è§¦å‘æ—¶ï¼Œå›è°ƒå‡½æ•°æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼› bã€setTimeoutç­‰ï¼Œç”±æµè§ˆå™¨å†…æ ¸çš„Timeræ¨¡å—å¤„ç†ï¼Œæ—¶é—´åˆ°è¾¾æ—¶ï¼Œå›è°ƒå‡½æ•°æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼› cã€Ajaxï¼Œç”±æµè§ˆå™¨å†…æ ¸çš„Networkæ¨¡å—å¤„ç†ï¼Œç½‘ç»œè¯·æ±‚è¿”å›åï¼Œæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ ä»»åŠ¡é˜Ÿåˆ—ï¼š åˆ†ç±»: 1. microtask queue 2. macrotask queue ä¸Šé¢çš„a,bï¼Œcå‡å±äºmacrotask queueï¼Œå®ƒçš„api: setTimeout, setInterval, setImmediate, I/O, UI rendering microtask queue çš„api:process.nextTick, Promise, MutationObserver macrotaskä»»åŠ¡ä¼šä¼˜å…ˆäºmicrotaskæ‰§è¡Œ,ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸º macrotasks å’Œ microtasks, è€Œpromiseä¸­çš„thenæ–¹æ³•çš„å‡½æ•°ä¼šè¢«æ¨å…¥åˆ°microtasksé˜Ÿåˆ—ä¸­ï¼Œè€ŒsetTimeoutå‡½æ•°ä¼šè¢«æ¨å…¥åˆ°macrotasksä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåœ¨æ¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œmacrotaskåªä¼šæå–ä¸€ä¸ªæ‰§è¡Œï¼Œè€Œmicrotaskä¼šä¸€ç›´æå–ï¼Œç›´åˆ°microsofté˜Ÿåˆ—ä¸ºç©ºä¸ºæ­¢ã€‚ ä»£ç ä¸ºè¯ 1234567891011121314151617console.log(&apos;1, time = &apos; + new Date().toString()) setTimeout(macroCallback, 0); new Promise(function(resolve, reject) &#123; console.log(&apos;2, time = &apos; + new Date().toString()) resolve(); console.log(&apos;3, time = &apos; + new Date().toString()) &#125;).then(microCallback); function macroCallback() &#123; console.log(&apos;4, time = &apos; + new Date().toString()) &#125; function microCallback() &#123; console.log(&apos;5, time = &apos; + new Date().toString()) &#125;ä¾æ¬¡æ‰“å°ä¸º:1,2,3,5,4 æ›´å®Œæ•´çš„äº‹ä»¶å¾ªç¯æµç¨‹ å°†microtaskåŠ å…¥åˆ°JSè¿è¡Œæœºåˆ¶æµç¨‹ä¸­ï¼Œåˆ™ï¼š step1ã€2ã€3åŒä¸Šï¼Œ step4ï¼šä¸»çº¿ç¨‹æŸ¥è¯¢ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œmicrotask queueï¼Œå°†å…¶æŒ‰åºæ‰§è¡Œï¼Œå…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼› step5ï¼šä¸»çº¿ç¨‹æŸ¥è¯¢ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œmacrotask queueï¼Œå–é˜Ÿé¦–ä»»åŠ¡æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•ï¼› step6ï¼šé‡å¤step4ã€step5ã€‚ microtask queueä¸­çš„æ‰€æœ‰callbackå¤„åœ¨åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­ï¼Œè€Œmacrotask queueä¸­çš„callbackæœ‰è‡ªå·±çš„äº‹ä»¶å¾ªç¯ã€‚ ç®€è€Œè¨€ä¹‹ï¼šåŒæ­¥ç¯å¢ƒæ‰§è¡Œ -&gt; äº‹ä»¶å¾ªç¯1ï¼ˆmicrotask queueçš„Allï¼‰-&gt; äº‹ä»¶å¾ªç¯2(macrotask queueä¸­çš„ä¸€ä¸ª) -&gt; äº‹ä»¶å¾ªç¯1ï¼ˆmicrotask queueçš„Allï¼‰-&gt; äº‹ä»¶å¾ªç¯2(macrotask queueä¸­çš„ä¸€ä¸ª)â€¦ åˆ©ç”¨microtask queueå¯ä»¥å½¢æˆä¸€ä¸ªåŒæ­¥æ‰§è¡Œçš„ç¯å¢ƒï¼Œä½†å¦‚æœMicrotask queueå¤ªé•¿ï¼Œå°†å¯¼è‡´Macrotaskä»»åŠ¡é•¿æ—¶é—´æ‰§è¡Œä¸äº†ï¼Œæœ€ç»ˆå¯¼è‡´ç”¨æˆ·I/Oæ— å“åº”ç­‰ï¼Œæ‰€ä»¥ä½¿ç”¨éœ€æ…é‡ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨promiseï¼Œasync: æ ¹æ® HTML Standradï¼Œ åœ¨æ¯ä¸ªtaskè¿è¡Œå®Œä»¥åï¼ŒUIéƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œé‚£ä¹ˆåœ¨ microCallbackå®Œæˆæ•°æ®æ›´æ–°ï¼Œå› æ­¤å½“å‰taskç»“æŸå°±å¯ä»¥å¾—åˆ°æœ€æ–°çš„UIäº†ã€‚ å ä¹‹ï¼šå¦‚æœæ–°å»ºä¸€ä¸ªtask(ä¾‹å¦‚ajax)æ¥åšæ•°æ®æ›´æ–°çš„è¯ï¼Œé‚£ä¹ˆæ¸²æŸ“ä¼šæ‰§è¡Œä¸¤æ¬¡ã€‚ å‚è€ƒ: JS äº‹ä»¶å¾ªç¯æœºåˆ¶ - ä»»åŠ¡é˜Ÿåˆ—ã€web APIã€JSä¸»çº¿ç¨‹çš„ç›¸äº’ååŒ Vue ä¸­å¦‚ä½•ä½¿ç”¨ MutationObserver åšæ‰¹é‡å¤„ç†ï¼Ÿ javascriptä¸­çš„å¼‚æ­¥ macrotask å’Œ microtask ç®€ä»‹","categories":[],"tags":[]},{"title":"æ€ä¹ˆä½¿ç”¨easymock","slug":"æ€ä¹ˆä½¿ç”¨easymock","date":"2018-10-10T03:38:16.000Z","updated":"2018-10-10T06:00:50.525Z","comments":true,"path":"2018/10/10/æ€ä¹ˆä½¿ç”¨easymock/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/10/æ€ä¹ˆä½¿ç”¨easymock/","excerpt":"","text":"easy-mock(æ¨¡æ‹Ÿæ•°æ®å¥½ç”¨çš„å·¥å…·) æ³¨æ„éœ€è¦æ³¨å†Œæ‰èƒ½ä½¿ç”¨ easy-mock-cliä½¿ç”¨æ–‡æ¡£ ä¸ºä»€ä¹ˆè¦ç”¨:åªè¦åœ¨ç½‘ä¸Šé…ç½®å¥½è¿”å›çš„å‚æ•°ï¼ˆeasy-mockæ•™ç¨‹ï¼‰,å†åŠ ä¸Š.easymockrc.jsè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼ˆæ ¼å¼å¯ä»¥å¤šç§ï¼‰ï¼Œå®ƒå°±ä¼šå¸®ä½ è‡ªåŠ¨ç”Ÿæˆè¯·æ±‚æ–‡ä»¶ï¼Œåˆ°æ—¶å€™å°±åªéœ€è°ƒç”¨å¯¹åº”çš„å‡½æ•°å°±å¯ä»¥äº†. å¦‚ä½•ä½¿ç”¨: cnpm install -g easy-mock-cli åˆ›å»ºé…ç½®æ–‡ä»¶ æ‰§è¡Œ easymock init . å‘½ä»¤ Bingo,å®Œæˆäº†ğŸ˜„","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2018-10-10T03:33:48.567Z","updated":"2018-10-10T03:33:48.568Z","comments":true,"path":"2018/10/10/hello-world/","link":"","permalink":"https://rujptw.github.io/catch-the-moment/2018/10/10/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}